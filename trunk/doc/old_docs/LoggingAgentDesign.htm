<html xmlns:o="urn:schemas-microsoft-com:office:office"xmlns:w="urn:schemas-microsoft-com:office:word"xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=Title content="Cook Design"><meta name=Keywords content=""><meta http-equiv=Content-Type content="text/html; charset=macintosh"><meta name=ProgId content=Word.Document><meta name=Generator content="Microsoft Word 11"><meta name=Originator content="Microsoft Word 11"><link rel=File-List href="LoggingAgentDesign_files/filelist.xml"><title>Cook Design</title><!--[if gte mso 9]><xml> <o:DocumentProperties>  <o:Author>Riley Marsh</o:Author>  <o:Template>Normal</o:Template>  <o:LastAuthor>James Marsh</o:LastAuthor>  <o:Revision>2</o:Revision>  <o:TotalTime>0</o:TotalTime>  <o:Created>2007-12-07T02:33:00Z</o:Created>  <o:LastSaved>2007-12-07T02:33:00Z</o:LastSaved>  <o:Pages>1</o:Pages>  <o:Words>212</o:Words>  <o:Characters>1214</o:Characters>  <o:Lines>10</o:Lines>  <o:Paragraphs>2</o:Paragraphs>  <o:CharactersWithSpaces>1490</o:CharactersWithSpaces>  <o:Version>11.773</o:Version> </o:DocumentProperties> <o:OfficeDocumentSettings>  <o:AllowPNG/> </o:OfficeDocumentSettings></xml><![endif]--><!--[if gte mso 9]><xml> <w:WordDocument>  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>  <w:UseMarginsForDrawingGridOrigin/>  <w:Compatibility>   <w:FootnoteLayoutLikeWW8/>   <w:ShapeLayoutLikeWW8/>   <w:AlignTablesRowByRow/>   <w:ForgetLastTabAlignment/>   <w:DoNotUseHTMLParagraphAutoSpacing/>   <w:LayoutRawTableWidth/>   <w:LayoutTableRowsApart/>   <w:UseWord97LineBreakingRules/>  </w:Compatibility> </w:WordDocument></xml><![endif]--><style><!-- /* Font Definitions */@font-face	{font-family:"Times New Roman";	panose-1:0 2 2 6 3 5 4 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Verdana;	panose-1:0 2 11 6 4 3 5 4 4 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;} /* Style Definitions */p.MsoNormal, li.MsoNormal, div.MsoNormal	{mso-style-parent:"";	margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:12.0pt;	font-family:Verdana;}table.MsoNormalTable	{mso-style-parent:"";	font-size:10.0pt;	font-family:Verdana;}@page Section1	{size:8.5in 11.0in;	margin:1.0in 1.25in 1.0in 1.25in;	mso-header-margin:.5in;	mso-footer-margin:.5in;	mso-paper-source:0;}div.Section1	{page:Section1;}--></style></head><body bgcolor=white lang=EN-US style='tab-interval:.5in'><div class=Section1><p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'>// Designed byJames Marsh</p><p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'></p><p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'>LoggingAgentDesign</p><p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'>Data</p><p class=MsoNormal style='margin-left:1.0in'>LogRequest {</p><p class=MsoNormal style='margin-left:1.5in'>Date requestTime; //the time ofthe requested log</p><p class=MsoNormal style='margin-left:1.5in'>Agent requestAgent; //the agentrequesting the log</p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal style='margin-left:1.5in'>Date getRequestTime();</p><p class=MsoNormal style='margin-left:1.5in'>Agent getRequestAgent();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:1.0in'>List&lt;LogRequest&gt;logRequests; //agent requests for logs</p><p class=MsoNormal style='margin-left:1.0in'>List&lt;Log&gt; loggableEvents; //new logs to add</p><p class=MsoNormal style='margin-left:1.0in'></p><p class=MsoNormal style='margin-left:1.0in'></p><p class=MsoNormal style='margin-left:.5in'>Messages</p><p class=MsoNormal style='margin-left:1.0in'>msgAddedUser(int userID) {</p><p class=MsoNormal style='margin-left:1.5in'>loggableEvents.addToEnd(&quot;Useradded: &quot;+userID);</p><p class=MsoNormal style='margin-left:1.5in'>stateChanged();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:1.0in'>msgLoggedInUser(int userID) {</p><p class=MsoNormal style='margin-left:1.5in'>loggableEvents.addToEnd(&quot;Userlogged in: &quot;+userID);</p><p class=MsoNormal style='margin-left:1.5in'>stateChanged();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:1.0in'>msgRiskMitigationFound(RiskMitigationrisk){</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//this will have no priority or duplicity checking</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>loggableEvents.addToEnd(&quot;Riskfound in kb: &quot;+risk);</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>stateChanged();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:1.0in'>msgRiskMitigationOutput(RiskMitigationrisk){</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//here the risk will have a priority assigned</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>loggableEvents.addToEnd(&quot;Riskreported: &quot;+risk);</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>stateChanged();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:1.0in'>msgActionExecuted(Action action,int userID){</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//userID, executed an action, action.</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>loggableEvents.addToEnd(&quot;Action:&quot;+action+&quot; by <span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&quot;+userID);</p><p class=MsoNormal style='margin-left:1.0in'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>stateChanged();</p><p class=MsoNormal style='margin-left:1.0in'>}</p><p class=MsoNormal style='margin-left:.5in'>Scheduler</p><p class=MsoNormal style='margin-left:1.0in'>1. if <span style='font-family:Symbol;mso-char-type:symbol;mso-symbol-font-family:Symbol'><spanstyle='mso-char-type:symbol;mso-symbol-font-family:Symbol'>$</span></span>logRequest in logRequests</p><p class=MsoNormal style='margin-left:1.5in'>retrieveLog(logRequest)</p><p class=MsoNormal style='margin-left:1.0in'>2. if <span style='font-family:Symbol;mso-char-type:symbol;mso-symbol-font-family:Symbol'><spanstyle='mso-char-type:symbol;mso-symbol-font-family:Symbol'>$</span></span> login loggableEvents</p><p class=MsoNormal style='margin-left:1.5in'>writeLog(log)</p><p class=MsoNormal style='margin-left:.5in'>Actions</p><p class=MsoNormal style='margin-left:1.0in'>writeLog(Log newLog){</p><p class=MsoNormal style='margin-left:1.5in'>Do(ÒWriting log todatabase&quot;);</p><p class=MsoNormal style='margin-left:1.5in'>Database.writeLog(newLog);</p><p class=MsoNormal style='margin-left:1.5in'>}</p><p class=MsoNormal style='margin-left:1.0in'>retreiveLog(LogRequest request){</p><p class=MsoNormal style='margin-left:1.5in'>Do(ÒRetrieved log form database&quot;);</p><p class=MsoNormal style='margin-left:1.5in'>Log retrievedLog =Database.retrieveLog(</p><p class=MsoNormal style='margin-left:1.5in'><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>request.getRequestTime());</p><p class=MsoNormal style='margin-left:1.5in'>Do(&quot;Sending log to&quot;+request.getRequestAgent());</p><p class=MsoNormal style='margin-left:1.5in'>request.getRequestAgent().msgHereIsLog(</p><p class=MsoNormal style='margin-left:1.5in'><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>retrievedLog);</p><p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p></div></body></html>